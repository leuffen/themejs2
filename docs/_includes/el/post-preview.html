<!--
  Post Preview Component
  Purpose: Renders a single post preview card with configurable styling
  Usage: Used in post grids, category listings, and related articles sections
  Parameters:
    - slug: Post slug to render (required)
    - is_highlighted: Shows excerpt and image (optional)
    - is_wide: Spans full width in grid (optional) 
    - is_mini: Compact version for sidebars (optional)
-->
{% assign post = site.posts | where: "slug", include.slug | first %}

<div class="post-card {% if include.is_highlighted %}highlighted{% else %}not-highlighted{% endif %}{% if include.is_wide %} wide{% endif %}"{% unless include.is_highlighted %} style="background-image: url('{{ post.image }}')"{% endunless %}>
    {% if include.is_highlighted %}
    <img src="{{ post.image }}" class="post-image" />
    {% endif %}
    <a href="{{ post.url }}" class="post-header">
        <h4 class="post-subtitle">
            {% if include.is_mini %}
                — {{ post.categories | first  }}
            {% else %}
                — {{ post.subtitle }}
            {% endif %}
        </h4>
        <h3 class="post-title {% if include.is_mini %}mini{% endif %}">
        {{ post.title }}
        </h3>
    </a>
    <div class="post-excerpt">
        {{ post.excerpt }}
    </div>

    {% if include.is_highlighted %}
    <a href="{{ post.url }}" class="btn btn-primary">
        Weiterlesen
    </a>
    {% endif %}
</div>
