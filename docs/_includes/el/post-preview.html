<!--
  Post Preview Component
  Purpose: Renders a single post preview card with configurable styling
  Usage: Used in post grids, category listings, and related articles sections
  Parameters:
    - slug: Post slug to render (required)
    - is_highlighted: Shows excerpt and image (optional)
    - is_wide: Spans full width in grid (optional) 
    - is_mini: Compact version for sidebars (optional)
-->
{% assign post = site.posts | where: "slug", include.slug | first %}

<div class="epraxis-post-include {% if include.is_highlighted %}highlighted_post{% else %}not_highlighted_post{% endif %}{% if include.is_wide %} wide_post{% endif %}"{% unless include.is_highlighted %} style="background-image: url('{{ post.image }}')"{% endunless %}>
    {% if include.is_highlighted %}
    <img src="{{ post.image }}" class="epraxis-post-include-image" />
    {% endif %}
    <a href="{{ post.url }}" class="epraxis-post-include-header">
        <h4 class="epraxis-small-title">
            {% if include.is_mini %}
                — {{ post.categories | first  }}
            {% else %}
                — {{ post.subtitle }}
            {% endif %}
        </h4>
        <h3 class="epraxis-post-include-title {% if include.is_mini %}epraxis-title-mini{% endif %}">
        {{ post.title }}
        </h3>
    </a>
    <div class="epraxis-post-include-excerpt">
        {{ post.excerpt }}
    </div>

    {% if include.is_highlighted %}
    <a href="{{ post.url }}" class="btn btn-primary">
        Weiterlesen
    </a>
    {% endif %}
</div>
